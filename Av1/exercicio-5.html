<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" rel="stylesheet" href="estilos/style.css" />
    <title>Exercicio 5</title>
</head>

<body>
    <h1>Formulário para Cadastro no Sistema</h1>
    <fieldset>
        <legend>Digite os dados para cadastro</legend>
        <form name="cadastroCliente" method="POST">
            <div>
                <label for="nome">Digite o Nome:
                    <input type="text" id="nome" name="nome" placeholder="Digite o Nome" />
            </div>
            <div>
                <label for="idade">Digite a Idade:
                    <input type="number" id="idade" name="idade" placeholder="Digite a Idade" />
            </div>
            <div>
                <label for="email">Digite o E-mail:
                    <input type="email" id="email" name="email" placeholder="Digite o E-mail" />
            </div>
            <div>
                <label for="senha">Digite a Senha:
                    <input type="password" id="senha" name="senha" placeholder="Digite a Senha" />
            </div>
            <div><input type="button" value="Cadastrar" onclick="return validar()" />
            </div>
            <div id="acerto" style="visibility:hidden">
                <p class="acerto">Cadastro Inserido com Sucesso</p>
            </div>
            <div id="erro" style="visibility:hidden" class="erro">
            </div>
        </form>
    </fieldset>
    <div>
        <button onclick="history.go(-1)">Voltar</button>
    </div>
    <script>
        function acerto() {
            document.getElementById('acerto').style.visibility = "visible";
        }

        function erro(campo) {
            document.getElementById('erro').style.visibility = "visible";
            document.getElementById('erro').innerHTML = "O campo " + campo + " está inválido";
        }

        function validar() {
            var nome = document.getElementById("nome").value;
            var idade = +document.getElementById("idade").value;
            var email = document.getElementById("email").value;
            var senha = document.getElementById("senha").value;

            //zerar className
            document.getElementById("nome").className = '';
            document.getElementById("idade").className = '';
            document.getElementById("email").className = '';
            document.getElementById("senha").className = '';

            //validar nome
            var caractere = "0";
            for (let c = 0; c < nome.length; c++) {
                if (nome[1, c] >= '0' && nome[1, c] <= 9 || nome[1, c] == '') {
                    document.getElementById("nome").focus();
                    document.getElementById("nome").className = 'erroborda';
                    document.getElementById('acerto').style.visibility = "hidden";
                    erro('nome');
                    return;
                } 
            }

            //validar idade
            if (idade == '') {
                document.getElementById("idade").focus();
                document.getElementById("idade").className = 'erroborda';
                erro('idade');
                return;
            }

            //validar email
            if (email == "" || email.indexOf('@') == -1) {
                document.getElementById("email").focus();
                document.getElementById("email").className = 'erroborda';
                document.getElementById('acerto').style.visibility = "hidden";
                erro('email');
                return;
            }

            //validar senha
            if (senha == '' || senha.length <= 7) {
                document.getElementById("senha").focus();
                document.getElementById("senha").className = 'erroborda';
                document.getElementById('acerto').style.visibility = "hidden";
                erro('senha');
                return;
            }

            document.getElementById('erro').style.visibility = 'hidden';
            return acerto();
        }
    </script>

</body>

</html>